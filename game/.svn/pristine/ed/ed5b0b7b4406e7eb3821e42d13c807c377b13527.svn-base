package cr.fi.grupomutual.website.utilities;

import java.util.ArrayList;

import org.springframework.beans.factory.annotation.Autowired;

import cr.fi.grupomutual.website.controllers.HomeController;
import cr.fi.grupomutual.website.entities.CarouselItem;
import cr.fi.grupomutual.website.entities.CarouselItem.Data;
import cr.fi.grupomutual.website.entities.CasillaItem;
import cr.fi.grupomutual.website.entities.SliderItem;

public class TemplatesGenerator {

	// ArrayList<SliderItem>
	@Autowired
	HomeController homeController;
	
	public String createSliderTemplate(SliderItem items) {
		String contSlider=java.util.UUID.randomUUID().toString();
		contSlider=contSlider.substring(0, 20);
		String sliderTemplate = "<div class=\"container carouselContainer\">"
								+ "<div id=\"carousel-id"+contSlider+"\" class=\"carousel slide\" data-interval=\"10000\" data-ride=\"carousel\">"
									+ "<ol class=\"carousel-indicators\">";
		for (int i = 0; i < items.getData().size(); i++) {
			if (i == 0) {
				sliderTemplate += "<li data-target=\"#carousel-id"+contSlider+"\" class=\"active\" data-slide-to=\""+ i + "\"></li>";
			} else {
				sliderTemplate += "<li data-target=\"#carousel-id"+contSlider+"\" data-slide-to=\""+ i + "\"></li>";
			}
		}
					sliderTemplate += "</ol>"
								+ "<div class=\"carousel-inner\">";
		for (int i = 0; i < items.getData().size(); i++) {
			if (i == 0) {
				sliderTemplate += "<div class=\"item active\">"
										+ "<a href='"+items.getData().get(i).getHyperlink()+"'><img class=\"sizeImg\" src=\""
										+ items.getData().get(i).getImageUrl()+ "\">" //"/images/prueba.jpg"
										+ "</a>"
										+ "<div class=\"container\">"
											+ "<div class=\"carousel-caption\">" 
												+ "<h1>"+ items.getData().get(i).getDescription() + "</h1>" 
												+ "<p>" + items.getData().get(i).getDescription() + "</p>"
											+ "</div>"
										+ "</div>" 
									+ "</div>";
			} else {
				sliderTemplate += "<div class=\"item\">"
										+ "<a href='"+items.getData().get(i).getHyperlink()+"'>"
											+ "<img class=\"sizeImg\"  src=\""+ items.getData().get(i).getImageUrl() + "\"></a>"
											+ "<div class=\"container\">"
												+ "<div class=\"carousel-caption\">" 
													+ "<h1>"+ items.getData().get(i).getDescription() + "</h1>" 
													+ "<p>"+ items.getData().get(i).getDescription() + "</p>" 
												+ "</div>"
												+ "</div>" 
									+ "</div>";
			}
		}
		sliderTemplate += "</div>"
				+ "<a class=\"left carousel-control\" href=\"#carousel-id"+contSlider+"\" data-slide=\"prev\">"
					+ "<span class=\"glyphicon glyphicon-chevron-left\"></span>"
				+ "</a>"
				+ "<a class=\"right carousel-control\" href=\"#carousel-id"+contSlider+"\" data-slide=\"next\">"
					+ "<span class=\"glyphicon glyphicon-chevron-right\"></span>"
				+ "</a>" 
			+ "</div>" 
		+ "</div>";

		return sliderTemplate;
	}

	// ArrayList<SliderItem>
	public String createCarouselTemplate(CarouselItem carouselItem) {

		String strutureCarousel = "<div class='container contentFooter'>"
										+ "<div class='container carouselFooter'>"
											+ "<div class='wrapper_bu'>";
		String items = "";
		for (int x = 0; x < carouselItem.getData().size(); x++) {
			Data tempCarrousel = carouselItem.getData().get(x);
			int cont = x + 1;
			items += "<div class='bu" + cont+ " holder_bu'>";
			String hyperlink=tempCarrousel.getHyperlink();
			if(hyperlink!=null){
				if(hyperlink.contains("http")){
					items+= "<a href='"+hyperlink+"'>"
								+ "<img class='img-responsive'  src='"+ tempCarrousel.getImageUrl()+ "'></img>"
							+ "</a>";
				}
				else {
					items+="<a href='"+homeController.contextPath +hyperlink+"'>"
								+ "<img class='img-responsive'  src='"+ tempCarrousel.getImageUrl()+ "'></img>"
							+ "</a>";
				}
			}
			items+= "</div>";
		}
		strutureCarousel+=items+"</div>"
				+ "</div>"
			+ "</div>";
		return strutureCarousel;
	}

	// ArrayList<CasillaItem>
	
	public String[] createCasillaTemplate(ArrayList<CasillaItem> casillaItem) {
		
		String temp = "<div class='row'>";
		String casillas = "<div class='menuContainer'>";
		casillas += createCasillaTemplateSmall(casillaItem);
		casillas += createCasillaTemplateMediumMenu(casillaItem);
		casillas += createCasillaTemplateLargeMenu(casillaItem);
		casillas += "</div>";
		temp += casillas;
		temp += "</div>";
		String [] res = new String[2];
		res[0] = temp;
		res[1] = casillas;
		return res;
	}
	
	public String createCasillaTemplateSmall(ArrayList<CasillaItem> casillaItem) {
		String contCasilla =java.util.UUID.randomUUID().toString();
		String temp = "<div id='smallAccordion"+contCasilla+"' class='smallMenu'>";
		
		for (int x = 0; x < casillaItem.size(); x++) {
			CasillaItem tempCasilla = casillaItem.get(x);
			int cont = x + 1;
			temp += "<div class='panel'>"
					+ "<div class='accordion-toggle item"
					+ cont
					+ "' data-toggle='collapse'"
					+ "data-parent='#smallAccordion"+contCasilla+"' href='#collapseOne"+contCasilla+"-"
					+ cont
					+ "' data-contentid= '"+tempCasilla.getData().getHyperlink()+"' >"
					+ "<span class='"
					+ tempCasilla.getData().getImageUrl()
					+ "' ></span> <label>"
					+ tempCasilla.getData().getSectionTitle()
					+ "</label> <span class='glyphicons circle_plus iconPlus'></span>"
					+ "</div>"
					+ "<div id='collapseOne"+contCasilla+"-"
					+ cont
					+ "' class='collapse collapseDiv'>"
					+ "<div class='arrowIndicator'></div>"
					+ "<div class='casillaContent'></div>"
					+ "<div class='closeSmall arrowIndicatorClose'><img></img></div>"
					+ "</div>" + "</div>";
		}
		temp += "</div>";
		return temp;
	}

	public String createCasillaTemplateMediumMenu(
			ArrayList<CasillaItem> casillaItem) {
		String contCasilla =java.util.UUID.randomUUID().toString();
		String casillaMedium = "<div id='mediumAccordion"+contCasilla+"' class='mediumMenu mediumMenu"+contCasilla+"'>";
		// String casillaMedium = null;
		String panelMenu = "";

		int cont = 0;

		for (int x = 0; x < casillaItem.size(); x++) {
			int contX = x + 1;
			panelMenu += "<div class='panel'>"

			+ "<div class='accordion-toggle' data-toggle='collapse'"
					+ "data-parent='#mediumAccordion"+contCasilla+"' href='#collapseOne_two"+contCasilla+
					+ contX + "' >";
			String internMenutemp = "";
			for (int y = 0; y < 2; y++) {
				if (casillaItem.size() > (x + y)) {
					int contI = x + y + 1;
					CasillaItem tempCasilla = casillaItem.get(x + y);

					internMenutemp += "<div class='internMenu item"
							+ contI
							+ "' data-contentid= '"+tempCasilla.getData().getHyperlink()+"' >"
							+ "<span class='"
							+ tempCasilla.getData().getImageUrl()
							+ "' ></span><label>"
							+ tempCasilla.getData().getSectionTitle()
							+ "</label> <span class='glyphicons circle_plus iconPlus'></span>"
							+ "</div>";
				}
				cont = x + y;
			}
			panelMenu += internMenutemp + "</div><div id='collapseOne_two"+contCasilla
					+ contX + "' class='collapse collapseDiv'>"
					+ "<div class='casillaContent'></div>"
					+ "<div class='closemedium arrowIndicatorClose'><img ></img></div>"
					+ "</div></div>";
			x += 1;
		}
		casillaMedium += panelMenu + "</div>";
		return casillaMedium;
	}

	public String createCasillaTemplateLargeMenu(
			ArrayList<CasillaItem> casillaItem) {
		String contCasilla =java.util.UUID.randomUUID().toString();
		String casillalarge = "<div  id='largeAccordion"+contCasilla+"' class='container largeMenu largeMenu"+contCasilla+"'> <div id='accordion_three"+contCasilla+"'>";
		String panelMenu = "";
		int cont = 0;
		for (int x = 0; x < casillaItem.size(); x++) {
			int contX = x + 1;
			panelMenu += "<div class='panel'>"
					+ "<div class='accordion-toggle' data-toggle='collapse'"
					+ "data-parent='#accordion_three"+contCasilla+"' href='#collapseOne_Large"+contCasilla
					+ contX + "'>";
			String internMenu = "";
			for (int y = 0; y < 4; y++) {
				if (casillaItem.size() > (x + y)) {
					int contI = x + y + 1;
					CasillaItem tempCasilla = casillaItem.get(x + y);
					internMenu += "<div class='internMenu item"
							+ contI
							+ "' data-contentid= '"+tempCasilla.getData().getHyperlink()+"' >"
							+ "<label>"
							+ tempCasilla.getData().getSectionTitle()
							+ "</label>"
							+ "<span class='"
							+ tempCasilla.getData().getImageUrl()
							+ "' ></span>"
							+ " <span class='glyphicons circle_plus iconPlus'></span>"
							+ "<p class='menuDescription'>"
							+ tempCasilla.getData().getDescription() + "</p>" + "</div>";
				}
				cont = x + y;
			}
			panelMenu += internMenu
					+ "</div><div id='collapseOne_Large"+contCasilla
					+ contX
					+ "' class='collapse collapseDiv'><div class='casillaContent'></div><div class='closeLarge arrowIndicatorClose'><img></img></div>"
					+ "</div></div>";
			x += 3;
		}
		casillalarge += panelMenu + "</div></div>";
		return casillalarge;
	}
}
